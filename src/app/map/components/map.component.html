<div class="search-wrapper">
    <app-search-bar (searchEvent)="onSearch($event)" (clearEvent)="onClearSearch()"></app-search-bar>
</div>

<!-- 위치 추적 토글 버튼 -->
<!-- <div class="tracking-toggle">
    <button (click)="toggleTracking()">
        {{ isTracking ? '실시간 위치 추적 중지' : '실시간 위치 추적 시작' }}
    </button>
</div> -->

<!-- 검색 결과가 있을 때 리스트 표시 -->
<div *ngIf="searchQuery && filteredStores.length > 0" class="search-result-list">
    <h3>검색 결과</h3>
    <ul>
        <li *ngFor="let store of filteredStores" (click)="focusStoreOnMap(store)">
            {{ store.store_name }} - {{ store.address }}
        </li>
    </ul>
</div>

<!-- 검색 결과 없을 때 중앙 팝업 표시 -->
<div *ngIf="searchQuery && filteredStores.length === 0 && alertVisible" class="alert-popup"> 
    <div class="alert-content">
        <p>검색된 가게가 없습니다.</p>
        <ion-button expand="full" (click)="openStoreRequestForm()">가게 등록하기</ion-button>
    </div>
</div>

<iframe id="map-iframe" src="assets/naver-map/index.html"></iframe>